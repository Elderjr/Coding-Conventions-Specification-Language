[comment encoding = UTF-8 /]
[module namedElementToOcl('http://www.example.org/ccsl')]


[query public queryConditionNamedElement(namedElement: NamedElement, contextElement: Element, varName: String, filters: OrderedSet(AtomicFilter), exactMatch: Boolean): OrderedSet(String) =
OrderedSet(String){
  	namedElement.defineNameQueryCondition(contextElement, varName),
}
->select(condition: String | condition.trim().size() > 0))/]

[template public defineQueryCondition(element: Element, contextElement: Element, varName: String, filters: OrderedSet(AtomicFilter), exactMatch: Boolean) ? (element.oclIsTypeOf(NamedElement)) post(trim())]
[for (condition: String | element.oclAsType(ComplexType).queryConditionComplexType(contextElement, varName, filters, exactMatch)) separator(' and \n')]
[condition /][/for]
[/template]

[template private defineNameQueryCondition(namedElement: NamedElement, contextElement: Element, varName: String)]
[if not namedElement.name.oclIsUndefined()] and [varName /].name='[namedElement.name/]'[/if]
[/template]
